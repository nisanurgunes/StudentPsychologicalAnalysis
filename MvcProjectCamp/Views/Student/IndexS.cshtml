
@{
    ViewBag.Title = "IndexS";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<!DOCTYPE html>
<html>
<head>
    <title>Student List</title>
    <a href="/Student/AddStudent/" class="btn btn-info">Yeni Öğrenci Kaydı</a>
</head>
<body>
    <h1>Student List</h1>
    <label for="studentClass">Select Class:</label>
    <select id="studentClass" name="studentClass">
        <option value="">Select a class</option>
        <!-- Loop through the class options retrieved from the database -->
        <option value="Class1">Class 1</option>
        <option value="Class2">Class 2</option>
        <option value="Class3">Class 3</option>
        <!-- Add more options as needed -->
    </select>

    <div class="card">
        <div class="card-header">Student List</div>
        <div class="card-body">
            <ul id="studentList">
            
            </ul>
        </div>
    </div>

    <script>// JavaScript code to handle class selection and fetch student list
        document.getElementById("studentClass").addEventListener("change", function() {
            var selectedClass = this.value;
            fetchStudentList(selectedClass);
        });

        function fetchStudentList(selectedClass) {
            // Send an AJAX request to the server to fetch the student list for the selected class
            // Assume the server returns a JSON array of student names
            fetch("/students?class=" + selectedClass)
                .then(response => response.json())
                .then(data => {
                    // Clear previous list
                    document.getElementById("studentList").innerHTML = "";
                    // Populate the student list
                    data.forEach(student => {
                        var li = document.createElement("li");
                        li.textContent = student.StudentName;
                        document.getElementById("studentList").appendChild(li);
                    });
                });
        }</script>
</body>
</html>
