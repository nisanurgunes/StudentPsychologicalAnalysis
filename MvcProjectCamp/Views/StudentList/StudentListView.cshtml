@{
    ViewBag.Title = "View";
    Layout = "~/Views/Shared/_TeacherLayout.cshtml";
}

<!DOCTYPE html>
<html>
<head>
    <title>Öğrenci Listesi</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="hold-transition sidebar-mini">
    <!-- /.navbar -->
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1>BANÜ Okulları Öğrenci Listesi</h1>
                </div>
            </div>
        </div><!-- /.container-fluid -->
    </section>
    <!-- Main content -->
    <section class="content">
        <!-- Default box -->
        <div class="card card-solid">
            <div class="card-body pb-0">
                <div class="row d-flex align-items-stretch" id="studentList">

                </div>
            </div>
        </div>
        <!-- /.card -->
    </section>
    <!-- /.content -->

    <script>$(document).ready(function() {
            // Login olan Teacher'ın bilgileri
            var teachers = [
                { teacherClass: "6-A", teacherMail: "omeralpaydin@gmail.com" },
                { teacherClass: "7-C", teacherMail: "meryemalpayci@gmail.com" }
            ];

            // Her bir Teacher için AJAX isteği yaparak öğrenci bilgilerini al
            teachers.forEach(function(teacher) {
                $.ajax({
                    url: "https://api-url/studentList",
                    type: "GET",
                    data: {
                        teacherTitle: teacher.teacherClass
                    },
                    success: function(response) {
                        // Öğrenci listesi döndüğünde işlemleri yap
                        var students = response.students;
                        students.forEach(function(student) {
                            $("#studentList").append("<div class='col-md-3'>" +
                                "<h5>" + student.StudentName + " " + student.StudentSurname + "</h5>" +
                                "</div>");
                        });
                    },
                    error: function() {
                        console.error("Öğrenci listesi alınamadı.");
                    }
                });
            });
        });</script>
</body>
</html>